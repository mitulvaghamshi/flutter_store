import 'package:flutter/material.dart';
import 'package:flutter_store/gstore_app/models/product.dart';

@immutable
mixin Server {
  static Product getProductBy({required String key}) =>
      ArgumentError.checkNotNull(_products[key]);

  static Iterable<String> getProducts([String filter = '']) {
    if (filter.isEmpty) return _products.keys;
    final items = _products.entries.where(
      (p) => p.value.title.toLowerCase().contains(filter.toLowerCase()),
    );
    return items.map((p) => p.key);
  }

  static const _products = {
    '0': Product(
      id: 0,
      title: 'Explore Pixel phones',
      img: 'assets/pixels.webp',
      info: TextSpan(
        children: [
          TextSpan(
            text: 'Capture the details.\n',
            style: TextStyle(color: Colors.blue),
          ),
          TextSpan(
            text: 'Capture your world.',
            style: TextStyle(color: Colors.black),
          ),
        ],
      ),
    ),
    '1': Product(
      id: 1,
      title: 'Nest Audio',
      img: 'assets/nest.webp',
      info: TextSpan(
        children: [
          TextSpan(
            text: 'Amazing sound.\n',
            style: TextStyle(color: Colors.green),
          ),
          TextSpan(
            text: 'At your command.',
            style: TextStyle(color: Colors.black),
          ),
        ],
      ),
    ),
    '2': Product(
      id: 2,
      title: 'Nest Audio Entertainment packages',
      img: 'assets/nest-audio-packages.webp',
      info: TextSpan(
        children: [
          TextSpan(
            text: 'Built for music.\n',
            style: TextStyle(color: Colors.orange),
          ),
          TextSpan(
            text: 'Made for you.',
            style: TextStyle(color: Colors.black),
          ),
        ],
      ),
    ),
    '3': Product(
      id: 3,
      title: 'Nest Home Security packages',
      img: 'assets/nest-home-packages.webp',
      info: TextSpan(
        children: [
          TextSpan(
            text: 'Your home,\n',
            style: TextStyle(color: Colors.red),
          ),
          TextSpan(
            text: 'safe and sound.',
            style: TextStyle(color: Colors.black),
          ),
        ],
      ),
    ),
  };
}
